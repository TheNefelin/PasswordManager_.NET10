<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PasswordManager_.NET10.Views.Authentication.RegisterPage"
             Title="RegisterPage">

    <VerticalStackLayout Spacing="20" Padding="30" VerticalOptions="Start">

        <!-- Header -->
        <Label Text="ðŸ“ Crear Cuenta" 
               FontSize="28" 
               FontAttributes="Bold" 
               HorizontalOptions="Center"/>

        <!-- Email -->
        <Entry Placeholder="Email" 
               Text="{Binding Email}" 
               Keyboard="Email"
               ClearButtonVisibility="WhileEditing"/>

        <!-- Password -->
        <Grid ColumnDefinitions="*,auto" ColumnSpacing="10">
            <Entry 
                Grid.Column="0"
                Placeholder="ContraseÃ±a" 
                Text="{Binding Password}" 
                IsPassword="{Binding IsPassword}"/>

            <ImageButton 
                Grid.Column="1"
                Source="icon_eye_lock_open_512.png"
                HeightRequest="50"
                WidthRequest="50"
                CornerRadius="8"
                Padding="8"
                BackgroundColor="{AppThemeBinding Light=DarkGray}"
                Command="{Binding ToggleIsPasswordCommand}"/>
        </Grid>

        <!-- Confirm Password -->
        <Entry Placeholder="Confirmar ContraseÃ±a" 
               Text="{Binding ConfirmPassword}" 
               IsPassword="True"/>

        <!-- Register Button -->
        <Button Text="Registrarse" 
                Command="{Binding RegisterCommand}"
                IsEnabled="{Binding IsFormValid}"/>

        <!-- Cancel Button -->
        <Button Text="Cancelar" 
                Command="{Binding CancelCommand}"
                BackgroundColor="Gray"/>

        <!-- Message -->
        <Label Text="{Binding Message}" 
               HorizontalOptions="Center"
               IsVisible="{Binding Message, Converter={StaticResource StringNotEmptyToBoolConverter}}"/>

        <!-- Loading -->
        <ActivityIndicator 
            IsRunning="{Binding IsLoading}"
            IsVisible="{Binding IsLoading}"
            HorizontalOptions="Center"/>
    </VerticalStackLayout>

</ContentPage>